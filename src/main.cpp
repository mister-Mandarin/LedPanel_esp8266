#include <PxMatrix.h>
#include <Ticker.h>

Ticker display_ticker;
#define P_LAT 16
#define P_A 5
#define P_B 4
#define P_C 15
#define P_D 12
#define P_E 0
#define P_OE 2

#define matrix_width 64
#define matrix_height 64

// This defines the 'on' time of the display is us. The larger this number,
// the brighter the display. If too large the ESP will crash
 uint8_t display_draw_time=1; //30-70 is usually fine

PxMATRIX display(64,64,P_LAT, P_OE,P_A,P_B,P_C,P_D,P_E);

// Some standard colors
uint16_t myRED = display.color565(255, 0, 0);
uint16_t myGREEN = display.color565(0, 255, 0);
uint16_t myBLUE = display.color565(0, 0, 255);
uint16_t myWHITE = display.color565(255, 255, 255);
uint16_t myYELLOW = display.color565(255, 255, 0);
uint16_t myCYAN = display.color565(0, 255, 255);
uint16_t myMAGENTA = display.color565(255, 0, 255);
uint16_t myBLACK = display.color565(0, 0, 0);

uint16_t image[] = {
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xa450, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xe6ba, 0x5963, 0x5102, 0x5943, 0xde79, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x9c0e, 0x48c1, 0x5984, 0x7206, 0x5984, 0x50e1, 0x8b6c, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xef5c, 0x61a5, 0x5122, 0x69c5, 0x8a67, 0x9267, 0x8a67, 0x69c5, 0x5943, 0x5943, 0xd658, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xacb1, 0x48c1, 0x5964, 0x7a06, 0x9267, 
	0x8a26, 0x83ae, 0x8a26, 0x9267, 0x7a06, 0x5984, 0x50e1, 0x8b4b, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0xffbe, 0x6a06, 0x5122, 0x61a5, 0x8a67, 0x9226, 0x8aa8, 0x8536, 0x7d97, 0x8556, 0x8ac9, 0x9226, 0x8a67, 0x69c5, 0x5943, 0x5922, 
	0xd638, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xbd54, 0x50e1, 0x5963, 0x7206, 0x9267, 0x8a05, 0x83ef, 0x7d98, 0x7d36, 0x9619, 
	0x7d36, 0x7d98, 0x8430, 0x8a05, 0x9267, 0x7a06, 0x5984, 0x50e1, 0x832b, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7a88, 0x5102, 0x61a4, 0x8247, 
	0x9246, 0x8a67, 0x8515, 0x7d77, 0x8577, 0xa6dc, 0xa6dd, 0xa6dc, 0x8597, 0x7d56, 0x8556, 0x92e9, 0x8a26, 0x8a67, 0x69c5, 0x5943, 
	0x5122, 0xce17, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0xcdd6, 0x5102, 0x5963, 0x71e5, 0x9267, 0x9205, 0x836c, 0x7d97, 0x7d36, 0x9619, 0xa6fd, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6dd, 
	0xa67a, 0x9d97, 0xa619, 0x9c71, 0x8a05, 0x9267, 0x7a26, 0x5984, 0x50e1, 0x830a, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x830a, 0x50e1, 0x6184, 0x8247, 0x9247, 0x8a47, 0x7c72, 0x7d56, 0x8576, 
	0xa6bc, 0xa6dd, 0xa6bc, 0xa6bc, 0xa6bc, 0x9ebc, 0xb6fd, 0xd77e, 0xcf5d, 0xadf8, 0x9db7, 0x9db7, 0x8aea, 0x8a26, 0x8a67, 0x69c5, 
	0x5943, 0x5102, 0xcdf7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xde79, 0x5943, 0x5943, 0x69e5, 
	0x9267, 0x9226, 0x832b, 0x7515, 0x74f5, 0x95f9, 0xa6fd, 0xa6dc, 0xa6bc, 0xa6bc, 0xa6bc, 0x9ebc, 0xb6fd, 0xd75d, 0xcf5d, 0xcf5d, 
	0xd77e, 0xbedb, 0x9d96, 0xa619, 0x9c91, 0x8a06, 0x9267, 0x7a26, 0x5984, 0x50e1, 0x82ea, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x93ad, 0x48e1, 0x5984, 0x8226, 0x9267, 0x8a26, 0x7c51, 0x7515, 0x74f4, 0xa69c, 0xa6dd, 0xa6bc, 0xa6bc, 0xa6bc, 
	0xa6bc, 0x9ebc, 0xb6fc, 0xd75d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xae18, 0x9db7, 0xa5b7, 0x930a, 0x8a26, 0x8a67, 
	0x69c5, 0x5963, 0x5102, 0xcdd6, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xef1c, 0x6184, 0x5143, 0x69c5, 0x8a67, 0x9226, 0x8aea, 0x7515, 0x74d4, 
	0x8556, 0xa6dd, 0xa6dc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xaedc, 0xd75d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 
	0xcf5d, 0xd77e, 0xbedb, 0x9d96, 0xa619, 0x9c91, 0x8a26, 0x9267, 0x7a26, 0x5984, 0x5101, 0x7ac9, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xa450, 0x48c1, 0x5984, 
	0x7a26, 0x9267, 0x8a26, 0x7c10, 0x7536, 0x74d4, 0x95f9, 0xa69c, 0xa6dc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xd75d, 
	0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf7e, 0xae18, 0x9db7, 0xa5d7, 0x930a, 0x8a06, 
	0x8a67, 0x69c5, 0x5963, 0x5102, 0xc5b5, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0xf79e, 0x69e5, 0x5122, 0x61c5, 0x8a67, 0x9246, 0x8aa9, 0x74f4, 0x74f4, 0x7d56, 0x9e7b, 0x9e5a, 0xa6bc, 0xa6bc, 
	0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0x9ebc, 0xc73d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 
	0xcf5d, 0xcf5d, 0xd77e, 0xc6db, 0x9d96, 0xa5f8, 0x9cb2, 0x8a26, 0x9267, 0x7a26, 0x6184, 0x5102, 0x7aa9, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb4d2, 0x48e1, 0x5963, 0x7a06, 0x8a67, 0x8a05, 0x83ce, 0x7536, 
	0x74d4, 0x8df9, 0x9e7b, 0x9e5a, 0x9e7b, 0xa6dc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 0xaedc, 0xd75d, 0xcf5d, 0xcf5d, 0xcf5d, 
	0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xd77e, 0xae18, 0x9db7, 0xa5d7, 0x8b0a, 
	0x81e5, 0x8a67, 0x69c5, 0x5963, 0x5101, 0xbd54, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xd617, 0x61c5, 
	0x50e1, 0x8205, 0x8205, 0x9ae9, 0x9576, 0x6cd4, 0x7d35, 0x9e5b, 0x9e5b, 0x9e5a, 0x9e3a, 0x9e9c, 0xa6bc, 0xa6bc, 0xa6bc, 0xa6bc, 
	0xa6bc, 0x9ebc, 0xc73d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 
	0xcf5d, 0xcf5d, 0xcf5d, 0xd77e, 0xc6dc, 0x9d96, 0xb67a, 0xe679, 0x81e5, 0x8a26, 0x71c4, 0x50e1, 0x6a06, 0xd658, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xffdf, 0xc512, 0xbcb1, 0x0000, 0x9dd8, 0x8598, 0x9e9c, 0x9e9b, 0x9e7b, 
	0x9e7b, 0x9e7b, 0xa6fd, 0xa6fd, 0xa6fd, 0xa6fd, 0xa6fd, 0xa6fd, 0xaefd, 0xd79e, 0xd79e, 0xd79e, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 
	0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xcf5d, 0xbe7a, 0x0000, 0x0000, 
	0xac0e, 0xcd95, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0xb6dc, 0x9e7b, 0x95b8, 0x84d3, 0x84f4, 0x84f4, 0x84f4, 0x8d55, 0x8d35, 0x8d35, 0x8d35, 0x8d35, 0x8d35, 0x9d76, 
	0xadb6, 0xad96, 0xa575, 0xd79e, 0xcf5d, 0xcf5d, 0xcf5d, 0xd77e, 0xd7bf, 0xd7bf, 0xd7bf, 0xd7bf, 0xd7bf, 0xd7bf, 0xd7bf, 0xd7bf, 
	0xd7bf, 0xd7bf, 0xcf5d, 0xcf5d, 0xd77e, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x7c31, 0x4080, 0x40a0, 0x4080, 0x4080, 
	0x4080, 0x4080, 0x40c1, 0x40a0, 0x4080, 0x4080, 0x4080, 0x4080, 0x40a1, 0x4060, 0xdfff, 0xcf5d, 0xcf5d, 0xd77e, 0xadd7, 0x8430, 
	0x8451, 0x8451, 0x8451, 0x8451, 0x8451, 0x8451, 0x8451, 0x8451, 0x7c10, 0xcf3c, 0xcf5d, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0xb6bc, 0x9e7b, 0x8451, 0x40a0, 0x3a68, 0x434c, 0x4b2b, 0x4b2b, 0x4b6c, 0x3143, 0x42c9, 0x4b4c, 0x4b2b, 0x4b2b, 0x4b6c, 0x3122, 
	0x48e1, 0xdfff, 0xcf5d, 0xcf5d, 0xd7bf, 0x83cf, 0x6143, 0x6184, 0x6184, 0x6184, 0x6184, 0x6184, 0x6184, 0x6184, 0x6184, 0x4080, 
	0xbedb, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x7c51, 0x3860, 0x7cf3, 0x96db, 0x7e59, 0x6e39, 0x76bb, 
	0x39e6, 0x6d55, 0x6e59, 0x6e39, 0x7659, 0x76db, 0x39a4, 0x48c1, 0xdfff, 0xcf5d, 0xcf5d, 0xd7bf, 0x8c30, 0x6164, 0x4923, 0x4943, 
	0x4943, 0x4943, 0x4943, 0x4943, 0x4923, 0x4923, 0x5102, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 
	0x7c51, 0x3860, 0x5c71, 0x8659, 0x9659, 0x9659, 0x867a, 0x39c5, 0x8554, 0x9679, 0x7e18, 0x6df7, 0x6e79, 0x39a4, 0x48c1, 0xdfff, 
	0xcf5d, 0xcf5d, 0xd7bf, 0x8c30, 0x6164, 0x4943, 0x5143, 0x5143, 0x4943, 0x4943, 0x5143, 0x5164, 0x5964, 0x5122, 0xc6db, 0xcf7e, 
	0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x7c51, 0x4080, 0x5471, 0x6e18, 0x65f7, 0x7e18, 0x96ba, 0x4a06, 0x5cf3, 
	0x7e38, 0x8e59, 0x9e59, 0x8eba, 0x39a4, 0x48c1, 0xdfff, 0xcf5d, 0xcf5d, 0xd7bf, 0x8c30, 0x6164, 0x4943, 0x5143, 0x4943, 0x4943, 
	0x5164, 0x5984, 0x5984, 0x5964, 0x5122, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x7c51, 0x4080, 
	0x5cb2, 0x767a, 0x7659, 0x6e39, 0x76bb, 0x39e6, 0x6534, 0x7679, 0x6e39, 0x7659, 0x8efc, 0x41c5, 0x48c1, 0xdfff, 0xcf5d, 0xcf5d, 
	0xd7bf, 0x8c30, 0x6164, 0x4943, 0x4943, 0x4943, 0x5964, 0x5984, 0x5964, 0x5964, 0x5964, 0x5922, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x7c51, 0x40a0, 0x3a27, 0x4aea, 0x42c9, 0x42c9, 0x4aea, 0x3122, 0x4268, 0x4aca, 0x42c9, 
	0x42c9, 0x42ea, 0x3122, 0x48e1, 0xdfff, 0xcf5d, 0xcf5d, 0xd7bf, 0x8c30, 0x6164, 0x4943, 0x4943, 0x5144, 0x5984, 0x5984, 0x5964, 
	0x5964, 0x5964, 0x5102, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x8451, 0x4080, 0x53ef, 0x6595, 
	0x6555, 0x6555, 0x6db6, 0x39c5, 0x5c71, 0x6575, 0x6555, 0x6555, 0x6db6, 0x3984, 0x48c1, 0xdfff, 0xcf5d, 0xcf5d, 0xd7bf, 0x8c30, 
	0x6164, 0x4943, 0x4943, 0x5964, 0x5964, 0x5964, 0x5964, 0x5964, 0x5964, 0x5122, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0xb6bc, 0x9e7b, 0x7c51, 0x3860, 0x6cb2, 0x7e59, 0x6df8, 0x6e18, 0x767a, 0x39c5, 0x8555, 0x8659, 0x6e18, 0x6e18, 0x769a, 
	0x39a4, 0x48c1, 0xdfff, 0xcf5d, 0xcf5d, 0xd7bf, 0x8c30, 0x6164, 0x4943, 0x5143, 0x5984, 0x5964, 0x5964, 0x5984, 0x5964, 0x5964, 
	0x5102, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6bc, 0x9e7b, 0x7c51, 0x3860, 0x6491, 0x9e9a, 0x9659, 0x7e18, 
	0x6e59, 0x39c5, 0x6d14, 0x9679, 0x9e59, 0x8638, 0x767a, 0x3984, 0x48c1, 0xc7bf, 0xd75d, 0xcf5d, 0xd7bf, 0x8c30, 0x6164, 0x4923, 
	0x5164, 0x5984, 0x5964, 0x5964, 0x5964, 0x69c4, 0x5964, 0x5102, 0xc6db, 0xcf7e, 0xd75d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xb6dd, 
	0x9ebe, 0x8473, 0x3840, 0x5470, 0x6e18, 0x7618, 0x8e38, 0xa6db, 0x41e6, 0x5cf3, 0x6e18, 0x6df7, 0x8638, 0x9edb, 0x41a4, 0x48e1, 
	0xaf5f, 0xaedc, 0xc73d, 0xdfbf, 0x8c30, 0x6164, 0x4923, 0x5964, 0x5984, 0x5964, 0x5964, 0x4904, 0xfea7, 0xcc45, 0x48c2, 0xc6db, 
	0xcf7e, 0xd77e, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x9db3, 0x5ba5, 0x5ba4, 0x5262, 0x5c92, 0x76bb, 0x767a, 0x6e7a, 0x7efc, 0x4206, 
	0x6575, 0x76bb, 0x767a, 0x767a, 0x76fc, 0x39c5, 0x48e1, 0xaf5f, 0xa6bc, 0x9ebc, 0xaf3e, 0x8410, 0x6184, 0x4923, 0x5964, 0x5964, 
	0x5964, 0x5964, 0x5144, 0x92e5, 0x69e4, 0x5102, 0xc6fc, 0xd79f, 0xbe98, 0x6c06, 0x4b42, 0x7448, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xef5c, 0x4300, 0x5b84, 0x5ba4, 
	0x63e4, 0x52a3, 0x28a1, 0x30e1, 0x30e1, 0x30e1, 0x30c1, 0x30e1, 0x30e1, 0x30e1, 0x30e1, 0x30e1, 0x30e1, 0x50e2, 0xaf5f, 0xa6bc, 
	0xa6bc, 0xa71e, 0x73ef, 0x6984, 0x4923, 0x5984, 0x5984, 0x5984, 0x5964, 0x5984, 0x5144, 0x5964, 0x5922, 0xaebb, 0xb71e, 0x5321, 
	0x5b83, 0x5b84, 0x5342, 0x8d0b, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0xbe14, 0x5342, 0x5ba4, 0x5b84, 0x7465, 0x7c86, 0x50e4, 0x59c4, 0x5144, 0x5103, 0x5102, 0x5102, 0x5102, 
	0x5102, 0x5102, 0x5102, 0x5102, 0x48a0, 0xaf5f, 0xa6bc, 0xa6bc, 0xa71e, 0x73ef, 0x6984, 0x4923, 0x5984, 0x5964, 0x5964, 0x5964, 
	0x5964, 0x5964, 0x5964, 0x5902, 0x9e9d, 0x9638, 0x5342, 0x5ba4, 0x5b84, 0x6c25, 0x7463, 0x0000, 0xef9c, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xdf1a, 0x9d4f, 0xbe14, 0x7428, 0x5b63, 0x5b84, 0x5364, 0x7ca6, 0x6c05, 
	0x7d06, 0x7ce5, 0x8528, 0xa6fe, 0xa6fd, 0xa6dd, 0xa6dd, 0xa6dd, 0xa6dd, 0xa6dd, 0xa6dd, 0xa6dd, 0x9e7b, 0xa69c, 0xa6bc, 0xaf1e, 
	0x73ef, 0x6984, 0x4923, 0x5984, 0x5964, 0x5964, 0x5964, 0x5964, 0x5964, 0x5984, 0x5a83, 0x7d31, 0x748b, 0x5b63, 0x5b84, 0x5b64, 
	0x7465, 0x6c05, 0x6c43, 0x6c43, 0x6c23, 0xf79d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xdef9, 0x42e0, 0x5363, 
	0x5362, 0x5363, 0x7445, 0x7cc6, 0x7ca6, 0x7465, 0x6c45, 0x7ca6, 0x7c86, 0x7484, 0x852c, 0x9e7c, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 
	0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e3a, 0x9e3a, 0x9ebc, 0x73cf, 0x6984, 0x4923, 0x5984, 0x5964, 0x5964, 0x5964, 0x5964, 0x5984, 
	0x5be4, 0x5bc4, 0x5b83, 0x5b63, 0x6c05, 0x7cc6, 0x7ca6, 0x7ca6, 0x6c05, 0x7ca6, 0x7c86, 0x7485, 0x84e8, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0xadb1, 0x4b42, 0x5ba4, 0x5ba4, 0x5ba4, 0x7cc6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7465, 0x7ca6, 0x7ca6, 
	0x7c85, 0x7ca7, 0x9e7c, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e5a, 0x9e9c, 0x73af, 0x6984, 
	0x4923, 0x5964, 0x5964, 0x5984, 0x5964, 0x5964, 0x5a04, 0x5be4, 0x5ba4, 0x5ba4, 0x5b84, 0x7cc6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7465, 
	0x7ca6, 0x7ca6, 0x7c86, 0x6422, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x6be6, 0x5b84, 0x5ba4, 0x5b84, 
	0x7445, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7c63, 0x9d91, 0xae7c, 0xa67b, 0xae5b, 0xae5b, 0xae5b, 0xae5b, 0xae5b, 
	0xae5b, 0xae5b, 0xae5b, 0xae5b, 0xaebc, 0x7bcf, 0x6984, 0x4923, 0x5164, 0x5984, 0x5964, 0x5964, 0x5964, 0x5944, 0x5b24, 0x5ba4, 
	0x5ba4, 0x5b84, 0x6c05, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x6c44, 0xa58d, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0xe73b, 0x5342, 0x5b84, 0x5b84, 0x63c4, 0x7ca6, 0x7ca6, 0x7ca6, 0x7486, 0x63e4, 0x7404, 0x3d0f, 0x05dc, 
	0x1575, 0x2553, 0x0599, 0x0598, 0x0598, 0x0598, 0x0598, 0x0598, 0x0598, 0x0598, 0x0598, 0x05d9, 0x2b6e, 0x7184, 0x4923, 0x4943, 
	0x5964, 0x5964, 0x5964, 0x5944, 0x5924, 0x5944, 0x5be4, 0x5b84, 0x5b84, 0x5ba4, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x63e4, 0x63e4, 
	0x9d6d, 0x0000, 0xf7bd, 0xceb5, 0x0000, 0x0000, 0x0000, 0x0000, 0x950d, 0x6c07, 0x5363, 0x5b84, 0x6c45, 0x7cc6, 0x7ca6, 0x7ca6, 
	0x7ca6, 0x7ca6, 0x7485, 0x7ca6, 0x7ca5, 0x54eb, 0x3530, 0x8463, 0x8c62, 0x2531, 0x0578, 0x0578, 0x0578, 0x0578, 0x0578, 0x0578, 
	0x0578, 0x0578, 0x05b9, 0x1b0c, 0x7984, 0x69a4, 0x69a4, 0x69a5, 0x69a5, 0x71a5, 0x6ae5, 0x5b44, 0x5ba4, 0x5ba4, 0x6c05, 0x7cc6, 
	0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7485, 0x7ca6, 0x7c85, 0x8d09, 0xced6, 0x6c43, 0x6422, 0xadf0, 0x0000, 0x0000, 0x9d6f, 0x4b21, 
	0x5b84, 0x5ba4, 0x5b84, 0x7486, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x84a5, 0x84a5, 0x7ca6, 0x7c85, 
	0x6ce9, 0x567c, 0x565a, 0x565a, 0x565a, 0x565a, 0x565a, 0x565a, 0x565a, 0x567b, 0x6cd3, 0x7b2c, 0x7b4c, 0x7b4c, 0x7b4c, 0x7b4d, 
	0x6b49, 0x5bc3, 0x5ba4, 0x5ba4, 0x5b84, 0x7445, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7ca6, 0x7c85, 0x7464, 
	0x7ca6, 0x7ca5, 0x7c85, 0x0000, 0x0000, 0xceb7, 0x42e0, 0x5342, 0x5342, 0x5342, 0x5342, 0x5bc3, 0x5bc3, 0x5ba3, 0x5bc3, 0x5bc3, 
	0x5bc3, 0x5bc3, 0x5bc3, 0x5bc3, 0x5bc3, 0x5ba3, 0x5360, 0xd6f7, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xfffe, 0x42e0, 0x5342, 0x5342, 0x5342, 0x4b42, 0x5ba3, 0x5bc3, 0x5ba3, 
	0x5ba3, 0x5ba3, 0x5ba3, 0x5ba3, 0x5ba3, 0x5ba3, 0x5ba3, 0x5ba3, 0x5360, 0xb611, 0x0000, 0x0000, 0x0000, 0xef5c, 0xbe34, 0xce97, 
	0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce96, 0xffdf, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xf7be, 
	0xc655, 0xce96, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce97, 0xce76, 0xef9d, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
};

uint16_t myCOLORS[8]={myRED,myGREEN,myBLUE,myWHITE,myYELLOW,myCYAN,myMAGENTA,myBLACK};
unsigned long lastTime1 = 0;
unsigned long lastTime2 = 0;
unsigned long lastTime3 = 0;
unsigned long lastTime4 = 0;

int offset1 = 0;
int offset2 = 0;
int offset3 = 0;
int offset4 = 0;
// ISR for display refresh
void display_updater() {
  display.display(display_draw_time);
}

void display_update_enable(bool is_enable) {
  if (is_enable)
    display_ticker.attach(0.004, display_updater);
  else
    display_ticker.detach();
}

uint16_t getLineColor(int position, int totalLength) {
  // Линейная интерполяция между 16 и 255 т.к. меньше 16 матрица не видит!
  int minBrightness = 16;
  int maxBrightness = 255;

  int brightness = minBrightness + ((maxBrightness - minBrightness) * position) / totalLength;
  return display.color565(0, brightness, 0);
}

void generateLineSegmentXY(short lineLength, short lineHeight) {
  short height = lineHeight - 1;


  for (short xx = 0; xx < lineLength; xx++) {
    uint16_t color = getLineColor(xx, lineLength);
    short x0 = xx + offset1;
 
    display.drawLine(x0, 0, x0, height, color);
   
    if (offset1 > matrix_width - 1 - lineLength) {
      short x1 = x0 - matrix_width + lineHeight;
      display.drawLine(x1, 0, x1, height, color);
    }
  }

  offset1 = (offset1 + 1) % (matrix_width - lineHeight);
}

void generateLineSegmentYX(short lineLength, short lineHeight) {
  short height = lineHeight - 1;

  for (short yy = 0; yy < lineLength; yy++) {
    uint16_t color = getLineColor(yy, lineLength);
    short y0 = yy + offset2;
 
    display.drawLine(matrix_width - 1, y0, matrix_width - 1 - height, y0, color);
   
    if (offset2 > matrix_width - 1 - lineLength) {
      short y1 = y0 - matrix_width + lineHeight;
      display.drawLine(matrix_width - 1, y1, matrix_width - 1 - height, y1, color);
    }
  }

  offset2 = (offset2 + 1) % (matrix_width - lineHeight);
}

void generateLineSegmentxY(short lineLength, short lineHeight) {
  short height = lineHeight - 1;


  for (short xx = 0; xx < lineLength; xx++) {
    uint16_t color = getLineColor(xx, lineLength);
    short x0 = matrix_width - 1 - xx - offset3;
 
    display.drawLine(x0, matrix_height - 1, x0, matrix_height - 1 - height, color);
   
    if (offset3 > matrix_width - 1 - lineLength) {
      short x1 = matrix_width + x0 - lineHeight;
      display.drawLine(x1, matrix_height - 1, x1, matrix_height - 1 - height, color);
    }
  }

  offset3 = (offset3 + 1) % (matrix_width - lineHeight);
}

void generateLineSegmentXy(short lineLength, short lineHeight) {
  short height = lineHeight - 1;

  for (short yy = 0; yy < lineLength; yy++) {
    uint16_t color = getLineColor(yy, lineLength);
    short y0 = matrix_height - 1 - yy - offset4;
 
    display.drawLine(0, y0, height, y0, color);
   
    if (offset4 > matrix_width - 1 - lineLength) {
      short y1 = matrix_width + y0 - lineHeight;
      display.drawLine(0, y1, height, y1, color);
    }
  }
  
  offset4 = (offset4 + 1) % (matrix_width - lineHeight);
}

void displayImage(int x, int y) {
  for (int i = 0; i < 49; i++) { // Высота изображения
    for (int j = 0; j < 55; j++) { // Ширина изображения
      display.drawPixel(x + j, y + i, image[i * 55 + j]);
    }
  }
}

  int x_center = (matrix_width - 55) / 2;
  int y_center = (matrix_height - 49) / 2;
void setup() {
	Serial.begin(115200);
	display.begin(32);
  display_update_enable(true);
}


void loop() {
  unsigned long currentTime = millis();
  unsigned long time = 30;
  short lenght = 30;
  short height = 3;

  // displayImage(x_center, y_center);
  
  if (currentTime - lastTime1 >= time) {
    lastTime1 = currentTime;
    
    display.clearDisplay();

    displayImage(x_center, y_center);

    generateLineSegmentXY(lenght, height);
    generateLineSegmentYX(lenght, height);
    generateLineSegmentxY(lenght, height);
    generateLineSegmentXy(lenght, height);
  }

}